<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MPI Partitioned Communication Library (MPIPCL): MPIPCL</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MPI Partitioned Communication Library (MPIPCL)
   &#160;<span id="projectnumber">.1</span>
   </div>
   <div id="projectbrief">An implementation of MPI 4.0 point-to-point partitioned communication API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">MPIPCL </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a>Library implementation of MPI-4 Partitioned Communication (currently using persistent point-to-point communication).</p>
<p>This is a component of the MPI-Advance Project!</p>
<p>The API provided by this project can be found in <code><a class="el" href="mpipcl_8h_source.html">mpipcl.h</a></code> in <code>/include/</code>. The source code is in the <code>/src/pt2pt</code> folder. The current version of our library creates an individual MPI Request for each partition, that is stored in the <code>MPIP_Request</code> object. These partition requests are launched with the respective calls to <code>MPI_PREADY</code> (or its variants) on the send-side. On the receive-side, the partition requests are launched when the <code>MPIP_Request</code> is started. The current version of the library also features a progress thread in the background to synchronize the number of internal partitions to use (useful for when the send-side and receive-side partitions don't match).</p>
<p>The current implementation makes the following assumptions/shortcuts: 1) The datatype is the same on both the sender and receiver processes 2) Only contiguous datatype is supported 3) The amount of data described on the send-side must match the amount of data described on the receive-side, even if the partitions do not match 4) The status object is not updated; it is ignored 5) These API are invoked in MPI_THREAD_SERIALIZED mode (i.e., MPI_Init_thread with thread support for MPI_THREAD_SERIALIZED is used instead of MPI_Init) 6) A new MPI request object called MPIP_Request is used to support partitioned communication</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Building</h1>
<p>The MPIPCL library is a fairly simple cmake build:</p>
<div class="fragment"><div class="line">mkdir &lt;build_dir&gt;</div>
<div class="line">cd &lt;build_dir&gt;</div>
<div class="line">cmake &lt;options&gt; ..</div>
<div class="line">make</div>
</div><!-- fragment --><p> A loaded MPI package is required, along with CMake version 3.17 or higher. CMake should detect the MPI and pick the right compiler, but always double check the output to make sure.</p>
<p>By default cmake creates a shared library in the build folder, to instead create a static library run option '-DBUILD_DYNAMIC_LIBS=OFF'</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Examples</h1>
<p>There are six examples provided by this library (found in the <code>examples/Basic</code> folder) Each example has the specific execution instructions at the top, but most follow this pattern: <code>mpirun -np &lt;num_processes&gt; ./&lt;test_executable&gt; &lt;npartitions&gt; &lt;bufsize&gt;</code></p>
<p>The first, second, and sixth example programs require only two processes, while the third, fourth, and fifth example programs require five processes. Note that <code>bufsize % npartitions == 0</code> must be true for all examples and combinations of buffer sizes and number of partitions. The fifth test is testing all of the <code>MPIP_Wait\Test</code> functions and their variants.</p>
<p>If <code>-DBUILD_EXAMPLES=ON</code> is provided during the <code>cmake</code> command, the tests will also be built when building MPIPCL. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
